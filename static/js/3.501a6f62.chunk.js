(this["webpackJsonppizza-loft-product"]=this["webpackJsonppizza-loft-product"]||[]).push([[3],{85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(14),c=a(3),u=a(18),i=a(7),o=(a(85),Object(l.b)((function(e){return{error:e.admin.error,isLoad:e.admin.isLoad}}),(function(e){return{signIn:function(t){return e(Object(i.t)(t.email,t.password))}}}))((function(e){var t=e.signIn,a=e.error,l=e.isLoad,i={email:"",password:""},o=Object(n.useState)(i),s=Object(u.a)(o,2),m=s[0],d=s[1],p={input:function(e){var t=Object(c.a)({},m);t[e.target.name]=e.target.value,d(t)},submit:function(e){e.preventDefault(),t(Object(c.a)({},m)),d(i)}};return r.a.createElement("div",{className:"LogIn"},r.a.createElement("form",{onSubmit:p.submit,className:"LogIn__form"},r.a.createElement("label",{htmlFor:"login"},r.a.createElement("span",null,"E-mail:"),r.a.createElement("input",{id:"login",className:a.includes("There is no user")?"error":"",type:"email",name:"email",placeholder:a.includes("There is no user")?"Niepoprawny e-mail":"",onChange:p.input,value:m.email,required:!0})),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",null,"Password:"),r.a.createElement("input",{id:"password",type:"password",className:a.includes("password")?"error":"",placeholder:a.includes("password")?"Niepoprawne has\u0142o":"",name:"password",onChange:p.input,value:m.password,required:!0})),r.a.createElement("button",{disabled:!l,className:"LogIn__form-button"},"Zaloguj")))}))),s=a(25),m=a(17),d=a(5),p=function(){var e=Object(m.f)().url;return r.a.createElement("aside",{className:"admin-panel__navigation"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"admin-panel__navigation-list"},r.a.createElement("li",null,r.a.createElement(d.c,{className:"admin-panel__navigation-link",to:"".concat(e,"/pizza-menu")},r.a.createElement(s.f,null))),r.a.createElement("li",null,r.a.createElement(d.c,{className:"admin-panel__navigation-link",to:"".concat(e,"/bar-menu")},r.a.createElement(s.a,null))),r.a.createElement("li",null,r.a.createElement(d.c,{className:"admin-panel__navigation-link",to:"".concat(e,"/page-info")},r.a.createElement(s.e,null))))))},h=(a(86),a(9)),b=a.n(h),f=a(22),E=a(33),g=a(35),v=a(34),j=a(36),O=a(29),k=function(e){var t=e.name,a=e.ing,l=e.enable,i=e.price,o=e.handleFormSubmit,m=e.handleDeletElement,d=(e.handleTouched,Object(n.useState)({status:{isSaved:!0},product:{name:t,ing:a,enable:l,price:i}})),p=Object(u.a)(d,2),h=p[0],b=p[1],f=function(e){var t=Object(c.a)({},h);t.status.isSaved=!1,"checkbox"===e.target.type?t.product[e.target.name]=!t.product[e.target.name]:t.product[e.target.name]=e.target.value,b(t)},E=Math.random();return r.a.createElement("form",{className:"admin-menu__item",onSubmit:function(e){var t=Object(c.a)({},h);t.status.isSaved=!0,b(t),o(h.product,e)}},r.a.createElement("input",{onChange:f,name:"name",type:"text",value:h.product.name}),r.a.createElement("input",{type:"text",onChange:f,name:"ing",value:h.product.ing}),r.a.createElement("label",{className:"enable",htmlFor:E},h.product.enable?r.a.createElement(O.c,null):r.a.createElement(O.d,null)),r.a.createElement("input",{id:E,onChange:f,name:"enable",type:"checkbox",checked:h.product.enable}),r.a.createElement("input",{onChange:f,name:"price",type:"number",value:h.product.price}),r.a.createElement("button",{disabled:h.status.isSaved,className:"admin-menu__button admin-menu__button--add"},"Aktualizuj"),r.a.createElement("a",{href:"/",className:"admin-menu__button",onClick:m},r.a.createElement(s.h,null)),r.a.createElement("span",{className:"admin-menu__isUpload"},h.status.isSaved?r.a.createElement(s.i,{color:"green"}):r.a.createElement(s.g,{color:"red"})))},N=function(e){var t=e.handleAddNewItem,a={product:{name:"",ing:"",enable:!0,price:0}},l=Object(n.useState)(a),i=Object(u.a)(l,2),o=i[0],s=i[1],m=Object(n.useRef)(null),d=function(e){var t=Object(c.a)({},o);"checkbox"===e.target.type?t.product[e.target.name]=!t.product[e.target.name]:"number"===e.target.type?t.product[e.target.name]=1*e.target.value:t.product[e.target.name]=e.target.value,s(t)},p=Math.random();return r.a.createElement("form",{className:"admin-menu__item",onSubmit:function(e){t(o.product,e),s(a),m.current.focus()}},r.a.createElement("input",{onChange:d,name:"name",type:"text",value:o.product.name,ref:m,placeholder:"Nazwa",required:!0}),r.a.createElement("input",{type:"text",onChange:d,name:"ing",placeholder:"Sk\u0142adniki",value:o.product.ing}),r.a.createElement("label",{className:"enable",htmlFor:p},o.product.enable?r.a.createElement(O.c,null):r.a.createElement(O.d,null)),r.a.createElement("input",{onChange:d,id:p,name:"enable",type:"checkbox",checked:o.product.enable}),r.a.createElement("input",{onChange:d,name:"price",type:"number",placeholder:"Cena",value:o.product.price,required:!0}),r.a.createElement("button",{className:"admin-menu__button admin-menu__button--add"},"Dodaj"),r.a.createElement("div",null),r.a.createElement("div",null))},S=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleTouched=function(){a.setState({isChanged:!0})},a.handleFormSubmit=function(e,t,n,r){r.preventDefault();var l=Object(c.a)({},a.state);l.drinks[e][t]=n,a.setState(l),a.handleTouched()},a.handleAddNewItem=function(e,t,n){n.preventDefault(),a.handleTouched();var r=Object(c.a)({},a.state);r.drinks[e].push(t),a.setState(r),a.handleTouched()},a.handleDeleteElement=function(e,t,n){n.preventDefault();var r=Object(c.a)({},a.state);r.drinks[e].splice(t,1),a.setState(r),a.handleTouched()},a.handleSendChanges=function(e){e.preventDefault(),a.props.setDrinksMenu(a.state.drinks),a.setState({isChanged:!1}),a.props.fetchDrinksMenu()},a}return Object(j.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(this.props.fetchDrinksMenu());case 2:(e=Object(c.a)({},this.props.drinks)).isChanged=!1,this.setState(e);case 5:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.drinks,a=t?Object.keys(t):[];return r.a.createElement("section",{className:"admin-menu"},a.map((function(a){return r.a.createElement("fieldset",{key:a},r.a.createElement("legend",null,a),t[a].map((function(t,n){return r.a.createElement(k,Object.assign({key:a+t.name+n},t,{handleFormSubmit:e.handleFormSubmit.bind(e,a,n),handleDeletElement:e.handleDeleteElement.bind(e,a,n),handleTouched:e.handleTouched}))})),r.a.createElement(N,{handleAddNewItem:e.handleAddNewItem.bind(e,a)}),r.a.createElement("button",{disabled:!e.state.isChanged,className:"send-menu-button",onClick:e.handleSendChanges},"Wy\u015blij"))})))}}]),t}(n.Component),_=Object(l.b)((function(e){return{drinks:e.admin.drinksMenu,isLoad:e.admin.isLoad}}),(function(e){return{fetchDrinksMenu:function(){return e(Object(i.p)())},setDrinksMenu:function(t){return e(Object(i.r)(t))}}}))(S),y=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleTouched=function(){a.setState({isChanged:!0})},a.handleFormSubmit=function(e,t,n,r){r.preventDefault();var l=Object(c.a)({},a.state);l.pizza[e][t]=n,a.setState(l),a.handleTouched()},a.handleAddNewItem=function(e,t,n){n.preventDefault(),a.handleTouched();var r=Object(c.a)({},a.state);r.pizza[e].push(t),a.setState(r),a.handleTouched()},a.handleDeleteElement=function(e,t,n){n.preventDefault();var r=Object(c.a)({},a.state);r.pizza[e].splice(t,1),a.setState(r),a.handleTouched()},a.handleSendChanges=function(e){e.preventDefault();var t=a.props.match.url;a.props.setPizzaMenu(a.state.pizza,t),a.setState({isChanged:!1}),a.props.fetchMenu(t)},a}return Object(j.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.match.url,a.next=3,b.a.awrap(this.props.fetchMenu(e));case 3:(t={pizza:Object(c.a)({},this.props.menu)}).isChanged=!1,this.setState(t);case 6:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.pizza,a=t?Object.keys(t):[];return r.a.createElement("section",{className:"admin-menu"},a.map((function(a){return r.a.createElement("fieldset",{key:a},r.a.createElement("legend",null,a),t[a].map((function(t,n){return r.a.createElement(k,Object.assign({key:a+t.name+n},t,{handleFormSubmit:e.handleFormSubmit.bind(e,a,n),handleDeletElement:e.handleDeleteElement.bind(e,a,n),handleTouched:e.handleTouched}))})),r.a.createElement(N,{handleAddNewItem:e.handleAddNewItem.bind(e,a)}),r.a.createElement("button",{disabled:!e.state.isChanged,className:"send-menu-button",onClick:e.handleSendChanges},"Wy\u015blij"))})))}}]),t}(n.Component),z=Object(l.b)((function(e){return{menu:e.admin.pizzaMenu}}),(function(e){return{fetchMenu:function(t){return e(Object(i.q)(t))},setPizzaMenu:function(t,a){return e(Object(i.s)(t,a))}}}))(y),w=function(){var e=Object(m.f)().url;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"menu-navigation"},r.a.createElement(d.c,{className:"menu-navigation__button",to:"".concat(e,"/glutenfree")},"Gluten Free"),r.a.createElement(d.c,{className:"menu-navigation__button",to:"".concat(e,"/regular")},"Zwyk\u0142a pizza")),r.a.createElement(m.a,{path:"".concat(e,"/glutenfree"),component:z}),r.a.createElement(m.a,{path:"".concat(e,"/regular"),component:z}))},C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(m.a,{path:"/admin-panel/pizza-menu",component:w}),r.a.createElement(m.a,{path:"/admin-panel/bar-menu",component:_}),r.a.createElement(m.a,{path:"/admin-panel/page-info",component:function(){return r.a.createElement("h1",{className:"message"},"this page is under development!")}}))};t.default=Object(l.b)((function(e){return{iuserID:e.admin.user}}))((function(e){var t=e.iuserID;return r.a.createElement("main",{className:"admin-panel"},t.length?r.a.createElement(C,null):r.a.createElement(o,null))}))}}]);
//# sourceMappingURL=3.501a6f62.chunk.js.map